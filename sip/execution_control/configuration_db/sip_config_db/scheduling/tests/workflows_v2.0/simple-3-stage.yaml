schema_version: "2.0"
id: simple-3-stage
version: 1.0.0
stages:
  - id: stage1
    version: 1.0.0
    type: setup
    timeout: 60s
    resources_required:
      - type: cpu
        value: 0.1
      - type: memory
        value: 100M
  - id: stage2
    version: 1.0.0
    type: processing
    timeout: 60s
    resources_required:
      - type: node
        number: 1
        flavour: compute_a
        exclusive: true
    dependencies:
      - type: stage
        value: stage-01
        condition: complete
  - id: stage3
    version: 1.0.0
    type: cleanup
    timeout: 60s
    resources_required:
      - type: cpu
        value: 0.1
      - type: memory
        value: 100M
    dependencies:
      - type: stage
        value: stage-02
        condition: complete
